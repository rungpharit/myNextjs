{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.9df8cd750968b67fbdf2.hot-update.js","sources":["webpack:///./components/picture/index.js"],"sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\nimport axios from 'axios'\r\n\r\n\r\nclass Picture extends Component {\r\n constructor(props){\r\n   super(props)\r\n   \r\n   this.state ={\r\n     img:'',\r\n     img2:''\r\n   };\r\n\r\n   this.submitpicture = this.submitpicture.bind(this);\r\n   this.getPicture = this.getPicture.bind(this);\r\n }\r\n\r\n submitpicture(e){\r\n   \r\n   e.preventDefault();\r\n   const fd = new FormData();\r\n   fd.append('image',e.target.someExpressFiles.files[0],e.target.someExpressFiles.files[0].name)\r\n   var reader = new FileReader();\r\n   reader.readAsDataURL(e.target.someExpressFiles.files[0])\r\n    reader.onload = (e) => {\r\n      console.log('ee: ',e)\r\n      console.log('img: ', e.target.result)\r\n      console.log('img type: ', typeof e.target.result)\r\n      this.setState({ img: e.target.result})\r\n    }\r\n   \r\n   console.log('file: ',e.target.someExpressFiles.files[0]);\r\n   let image = e.target.someExpressFiles.files[0]\r\n   console.log('image: ',image)\r\n   axios.post('http://localhost:5000/api/upload/',\r\n    fd\r\n).then((response) => {\r\n    console.log('res:',response)\r\n  })\r\n }\r\n\r\n componentDidMount(){\r\n \r\n }\r\n\r\n async getPicture(){\r\n   console.log(`${this.state.img2}`)\r\n  axios.get('http://localhost:5000/api/upload/').then((response) => {\r\n  console.log('resdfdd:',response.data.img.data.data)\r\n  console.log('tetet: ',typeof(response.data.img.data))\r\n  let buff = new Buffer(response.data.img.data.data);\r\n  console.log('tetet2: ',typeof(buff))\r\n  let base64data = buff.toString('base64');\r\n  console.log('tetet: ',typeof(base64data))\r\n\r\n//   let objJsonStr = JSON.stringify(response.data.img.data.data);\r\n// let objJsonB64 = Buffer.from(objJsonStr).toString(\"base64\");\r\n// console.log('tetet: ',typeof(objJsonB64))\r\n  this.setState({img2:base64data })\r\n  console.log('img2: ',this.state.img2)\r\n})\r\n// console.log('yyy: ',this.state.img2)\r\n   \r\n }\r\n\r\n  render() {\r\n  \r\n    return (\r\n      <div >\r\n         <div>\r\n        <button name=\"tt\" value='test' onClick={this.getPicture}></button>\r\n      </div>\r\n        <h2>With <code>\"express\"</code> npm package</h2>\r\n        <form onSubmit={this.submitpicture} encType=\"multipart/form-data\" method=\"post\">\r\n          <div>Text field title: <input type=\"text\" name=\"title\" /></div>\r\n          <div>File: <input type=\"file\" name=\"someExpressFiles\" multiple=\"multiple\" /></div>\r\n          <input type=\"submit\" value=\"Upload\" />\r\n        </form>\r\n        <div>\r\n          <img src={`data:image/jpeg;base64,${this.state.img2}`}/>\r\n        </div>\r\n\r\n        <div >\r\n          <img src={this.state.img}/>\r\n        </div>\r\n     \r\n\r\n      </div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\n\r\nexport default Picture;\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAEA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AATA;AAUA;AACA;;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;;AAEA;;;;;;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;;AAIA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AArFA;AACA;AAyFA;;;;;A","sourceRoot":""}